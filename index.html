<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concierge Editor - Restaurant Management System</title>
    <!-- Add base URL for GitHub Pages -->
    <base href="https://wsmontes.github.io/Concierge-Editor/">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/restaurant-section.css">
    <!-- Add Inter font as specified in UI spec -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Add JetBrains Mono for code or monospaced elements -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Material Icons as specified in UI spec -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Keep Font Awesome for backwards compatibility -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Add theme color and dark mode support -->
    <meta name="theme-color" content="#7c3aed">
    <meta name="color-scheme" content="light dark">
    <!-- Add this line in the head section of your HTML file -->
    <link rel="stylesheet" href="css/notifications.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="icon"><i class="fas fa-utensils"></i></span>
                    <h1>Concierge</h1>
                </div>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="#dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#restaurants">
                            <i class="fas fa-store"></i>
                            <span>Restaurants</span>
                        </a>
                    </li>
                    <li>
                        <a href="#concepts">
                            <i class="fas fa-tags"></i>
                            <span>Concepts</span>
                        </a>
                    </li>
                    <li>
                        <a href="#gallery">
                            <i class="fas fa-images"></i>
                            <span>Gallery</span>
                        </a>
                    </li>
                    <li>
                        <a href="#import">
                            <i class="fas fa-file-import"></i>
                            <span>Import/Export</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <img src="assets/images/user-avatar.jpg" alt="User" class="avatar">
                    <div class="user-info">
                        <h4>System Admin</h4>
                        <p>admin@example.com</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="content-header">
                <div class="header-left">
                    <h2 id="page-title">Dashboard</h2>
                </div>
                <div class="header-right">
                    <form id="global-search" class="search-bar">
                        <input type="search" placeholder="Search restaurants...">
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>
                    <div class="actions">
                        <button class="btn btn-primary" id="global-add-restaurant">
                            <i class="fas fa-plus"></i> New Restaurant
                        </button>
                        <button class="btn btn-icon"><i class="fas fa-bell"></i></button>
                        <button class="btn btn-icon"><i class="fas fa-question-circle"></i></button>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="content-wrapper">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-store"></i></div>
                            <div class="stat-data">
                                <h3 id="restaurant-total">0</h3>
                                <p>Restaurants</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-tags"></i></div>
                            <div class="stat-data">
                                <h3 id="concept-total">0</h3>
                                <p>Concepts</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-map-marker-alt"></i></div>
                            <div class="stat-data">
                                <h3 id="location-total">0</h3>
                                <p>Locations</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-image"></i></div>
                            <div class="stat-data">
                                <h3 id="media-total">0</h3>
                                <p>Images</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card wide">
                            <div class="card-header">
                                <h3>Restaurant Analytics</h3>
                                <div class="card-actions">
                                    <button class="btn btn-icon"><i class="fas fa-ellipsis-v"></i></button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="chart-container">
                                    <canvas id="visitorChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Recent Imports</h3>
                                <div class="card-actions">
                                    <button class="btn btn-icon"><i class="fas fa-ellipsis-v"></i></button>
                                </div>
                            </div>
                            <div class="card-content">
                                <ul id="recent-imports" class="activity-list">
                                    <li class="empty-list">No recent imports</li>
                                </ul>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Popular Concepts</h3>
                                <div class="card-actions">
                                    <button class="btn btn-icon"><i class="fas fa-ellipsis-v"></i></button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div id="popular-concepts" class="tag-cloud">
                                    <!-- Concepts will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Restaurants Section -->
                <section id="restaurants" class="content-section">
                    <div class="section-header">
                        <div class="section-title">
                            <h2>Restaurants</h2>
                            <span class="section-subtitle">Manage your restaurant collection</span>
                        </div>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="section-add-restaurant">
                                <i class="fas fa-plus"></i> Add Restaurant
                            </button>
                        </div>
                    </div>

                    <!-- Advanced Search Panel - Initially Hidden -->
                    <div id="advanced-search-panel" class="advanced-search-panel">
                        <div class="panel-header">
                            <h3>Advanced Search</h3>
                            <button class="btn btn-icon close-advanced-search">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="advanced-search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="search-name">Restaurant Name</label>
                                    <input type="text" id="search-name" placeholder="Search by name...">
                                </div>
                                <div class="form-group">
                                    <label for="search-curator">Curator</label>
                                    <select id="search-curator">
                                        <option value="">Any curator</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="search-concept">Concept</label>
                                    <select id="search-concept">
                                        <option value="">Any concept</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="search-date-from">Date Range</label>
                                    <div class="date-range">
                                        <input type="date" id="search-date-from" placeholder="From">
                                        <span class="date-separator">to</span>
                                        <input type="date" id="search-date-to" placeholder="To">
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Status</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" name="status" value="draft" checked> Draft</label>
                                        <label><input type="checkbox" name="status" value="revised" checked> Revised</label>
                                        <label><input type="checkbox" name="status" value="production" checked> Production</label>
                                        <label><input type="checkbox" name="status" value="archived"> Archived</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Content Filters</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" name="has_description"> Has description</label>
                                        <label><input type="checkbox" name="has_transcription"> Has transcription</label>
                                        <label><input type="checkbox" name="has_images"> Has images</label>
                                        <label><input type="checkbox" name="has_location"> Has location</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" id="reset-search" class="btn btn-secondary">Reset</button>
                                <button type="submit" class="btn btn-primary">Search</button>
                            </div>
                        </form>
                    </div>

                    <div class="filter-toolbar">
                        <div class="toolbar-section">
                            <div class="view-toggle">
                                <button class="view-toggle-btn" data-view="grid" title="Grid View">
                                    <i class="fas fa-th-large"></i>
                                </button>
                                <button class="view-toggle-btn" data-view="list" title="List View">
                                    <i class="fas fa-list"></i>
                                </button>
                                <button class="view-toggle-btn" data-view="table" title="Table View">
                                    <i class="fas fa-table"></i>
                                </button>
                            </div>
                            <button id="advanced-search-btn" class="btn btn-sm btn-secondary">
                                <i class="fas fa-filter"></i> Advanced Search
                            </button>
                            <div id="restaurant-count" class="item-count">0 restaurants</div>
                        </div>

                        <div class="toolbar-section">
                            <div class="filter-group">
                                <select id="status-filter" aria-label="Filter by status">
                                    <option value="all">All statuses</option>
                                    <option value="draft">Draft</option>
                                    <option value="revised">Revised</option>
                                    <option value="production">Production</option>
                                    <option value="archived">Archived</option>
                                </select>
                                <select id="filter-restaurants" aria-label="Filter restaurants">
                                    <option value="all">All restaurants</option>
                                    <option value="new">Added in last week</option>
                                    <option value="no-concepts">No concepts</option>
                                </select>
                                <select id="sort-restaurants" aria-label="Sort restaurants">
                                    <option value="name-asc">Name (A-Z)</option>
                                    <option value="name-desc">Name (Z-A)</option>
                                    <option value="date-desc">Newest first</option>
                                    <option value="date-asc">Oldest first</option>
                                    <option value="curator-asc">Curator (A-Z)</option>
                                    <option value="curator-desc">Curator (Z-A)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="bulk-actions">
                        <div class="selection-info">
                            <span><span id="selected-count">0</span> restaurants selected</span>
                            <button class="btn-text clear-selection">Clear selection</button>
                        </div>
                        <div class="bulk-action-buttons">
                            <button id="bulk-delete" class="bulk-action-btn btn-danger disabled" disabled>
                                <i class="fas fa-trash-alt"></i> Delete Selected
                            </button>
                            <button id="bulk-export" class="bulk-action-btn btn-secondary disabled" disabled>
                                <i class="fas fa-file-export"></i> Export Selected
                            </button>
                        </div>
                    </div>

                    <div id="restaurant-list" class="restaurant-grid">
                        <!-- Restaurant items will be dynamically inserted here by JavaScript -->
                    </div>

                    <div id="pagination-container" class="pagination-controls">
                        <!-- Pagination will be inserted by JavaScript -->
                    </div>
                </section>
                
                <!-- Restaurant Detail Section -->
                <section id="restaurant-detail" class="content-section">
                    <div class="detail-header-placeholder"></div>
                    <div class="detail-content-placeholder">
                        <!-- Restaurant details will be dynamically populated -->
                    </div>
                </section>
                
                <!-- Concepts Management Section -->
                <section id="concepts" class="content-section">
                    <div class="section-header">
                        <h3>Concept Management</h3>
                        <div class="header-actions">
                            <button class="btn btn-primary" data-toggle="add-concept-modal">
                                <i class="fas fa-plus"></i> Add Concept
                            </button>
                        </div>
                    </div>
                    
                    <div class="concept-filter">
                        <div class="search-field">
                            <input type="text" id="concept-search" placeholder="Search concepts...">
                        </div>
                        <select id="concept-category-filter">
                            <option value="all">All Categories</option>
                        </select>
                    </div>
                    
                    <div id="concept-list" class="concept-list">
                        <!-- Concepts will be populated by JavaScript -->
                    </div>
                    
                    <!-- Add Concept Form -->
                    <div class="card">
                        <div class="card-header">
                            <h4>Add New Concept</h4>
                        </div>
                        <div class="card-content">
                            <form id="add-concept-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="concept-category">Category</label>
                                        <input type="text" id="concept-category" required placeholder="e.g. Cuisine">
                                    </div>
                                    <div class="form-group">
                                        <label for="concept-value">Value</label>
                                        <input type="text" id="concept-value" required placeholder="e.g. Italian">
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-plus"></i> Add Concept
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                
                <!-- Gallery Section -->
                <section id="gallery" class="content-section">
                    <div class="section-header">
                        <h3>Media Gallery</h3>
                        <div class="header-actions">
                            <div class="search-filter">
                                <select id="gallery-restaurant-filter">
                                    <option value="all">All Restaurants</option>
                                </select>
                                <select id="gallery-type-filter">
                                    <option value="all">All Media Types</option>
                                    <option value="food">Food</option>
                                    <option value="interior">Interior</option>
                                    <option value="exterior">Exterior</option>
                                </select>
                            </div>
                            <div class="view-toggle">
                                <button class="btn btn-icon view-toggle-btn active" title="Grid View">
                                    <i class="fas fa-th"></i>
                                </button>
                                <button class="btn btn-icon view-toggle-btn" title="List View">
                                    <i class="fas fa-th-list"></i>
                                </button>
                            </div>
                            <button class="btn btn-primary" id="upload-media-btn">
                                <i class="fas fa-upload"></i> Upload Media
                            </button>
                        </div>
                    </div>

                    <div class="gallery-grid">
                        <!-- Gallery items will be populated by JavaScript -->
                    </div>
                </section>
                
                <!-- Import/Export Section -->
                <section id="import" class="content-section">
                    <div class="section-header">
                        <h3>Import & Export Data</h3>
                    </div>
                    
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Import Data</h3>
                            </div>
                            <div class="card-content">
                                <p>Import data from Concierge Collector or other compatible sources.</p>
                                <div class="form-group">
                                    <label for="import-file">Select File</label>
                                    <input type="file" id="import-file" accept=".json,.zip" style="display:none;">
                                    <div class="input-file-wrapper">
                                        <button class="btn btn-secondary" id="import-data">
                                            <i class="fas fa-file-upload"></i> Choose File
                                        </button>
                                        <span id="selected-file">No file selected</span>
                                    </div>
                                </div>
                                <div class="import-status-container">
                                    <div id="import-status" style="display:none;"></div>
                                    <div class="progress-bar-container" style="display:none;">
                                        <div class="progress-bar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Export Data</h3>
                            </div>
                            <div class="card-content">
                                <p>Export your restaurant data to use in other applications.</p>
                                <div class="form-group">
                                    <label>Select Export Format</label>
                                    <select id="export-format">
                                        <option value="json">JSON (standard)</option>
                                        <option value="csv">CSV (spreadsheet)</option>
                                    </select>
                                </div>
                                <p class="text-muted">
                                    To export specific restaurants, select them in the Restaurants section first.
                                </p>
                                <button class="btn btn-primary" id="export-all-data">
                                    <i class="fas fa-file-export"></i> Export All Data
                                </button>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="card-header">
                                <h3>Import History</h3>
                            </div>
                            <div class="card-content">
                                <ul id="import-history" class="activity-list">
                                    <li class="empty-list">No import history available</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings" class="content-section">
                    <div class="section-header">
                        <h3>Settings</h3>
                        <button class="btn btn-primary" title="Save"><i class="fas fa-save"></i> Save Changes</button>
                    </div>

                    <div class="settings-manager">
                        <div class="settings-sidebar">
                            <ul class="settings-nav">
                                <li class="active"><a href="#general-settings">General</a></li>
                                <li><a href="#appearance-settings">Appearance</a></li>
                                <li><a href="#integration-settings">Integrations</a></li>
                                <li><a href="#notification-settings">Notifications</a></li>
                                <li><a href="#user-settings">User Management</a></li>
                            </ul>
                        </div>
                        
                        <div class="settings-content">
                            <div id="general-settings" class="settings-panel active">
                                <h4>General Settings</h4>
                                
                                <div class="form-group">
                                    <label for="app-name">Application Name</label>
                                    <input type="text" id="app-name" value="Concierge Editor">
                                </div>
                                
                                <div class="form-group">
                                    <label for="timezone">Timezone</label>
                                    <select id="timezone">
                                        <option selected>Pacific Time (US & Canada)</option>
                                        <option>Mountain Time (US & Canada)</option>
                                        <option>Central Time (US & Canada)</option>
                                        <option>Eastern Time (US & Canada)</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="date-format">Date Format</label>
                                    <select id="date-format">
                                        <option selected>MM/DD/YYYY</option>
                                        <option>DD/MM/YYYY</option>
                                        <option>YYYY-MM-DD</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="data-storage">Data Storage Location</label>
                                    <select id="data-storage">
                                        <option selected>Browser Storage (Default)</option>
                                        <option>Cloud Storage (Premium)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div id="appearance-settings" class="settings-panel">
                                <h4>Appearance Settings</h4>
                                
                                <div class="form-group">
                                    <label for="theme">Theme</label>
                                    <select id="theme">
                                        <option selected>Light</option>
                                        <option>Dark</option>
                                        <option>System Default</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="accent-color">Accent Color</label>
                                    <input type="color" id="accent-color" value="#e74c3c">
                                </div>
                                
                                <div class="form-group">
                                    <label>Display Density</label>
                                    <div class="radio-group">
                                        <label><input type="radio" name="density" value="compact"> Compact</label>
                                        <label><input type="radio" name="density" value="comfortable" checked> Comfortable</label>
                                        <label><input type="radio" name="density" value="spacious"> Spacious</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="integration-settings" class="settings-panel">
                                <h4>Integration Settings</h4>
                                
                                <div class="form-group">
                                    <label for="api-key">API Key</label>
                                    <div class="input-with-action">
                                        <input type="password" id="api-key" value="sk_test_1234567890abcdef">
                                        <button class="btn btn-secondary">Show</button>
                                        <button class="btn btn-secondary">Regenerate</button>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Available Integrations</label>
                                    <div class="integration-list">
                                        <div class="integration-item">
                                            <div class="integration-info">
                                                <img src="assets/images/maps-icon.png" alt="Maps API">
                                                <div>
                                                    <h4>Maps Integration</h4>
                                                    <p>Display restaurant locations on interactive maps</p>
                                                </div>
                                            </div>
                                            <button class="toggle-switch">
                                                <span class="toggle-slider active"></span>
                                            </button>
                                        </div>
                                        
                                        <div class="integration-item">
                                            <div class="integration-info">
                                                <img src="assets/images/reviews-icon.png" alt="Reviews API">
                                                <div>
                                                    <h4>Reviews Integration</h4>
                                                    <p>Import reviews from popular platforms</p>
                                                </div>
                                            </div>
                                            <button class="toggle-switch">
                                                <span class="toggle-slider"></span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="notification-settings" class="settings-panel">
                                <h4>Notification Settings</h4>
                                
                                <div class="form-group">
                                    <label>Email Notifications</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" checked> Data imports</label>
                                        <label><input type="checkbox" checked> System updates</label>
                                        <label><input type="checkbox"> Restaurant edits</label>
                                        <label><input type="checkbox" checked> New users</label>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>In-App Notifications</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" checked> Data imports</label>
                                        <label><input type="checkbox" checked> System updates</label>
                                        <label><input type="checkbox" checked> Restaurant edits</label>
                                        <label><input type="checkbox" checked> New users</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="user-settings" class="settings-panel">
                                <h4>User Management</h4>
                                
                                <div class="user-management">
                                    <div class="users-list">
                                        <div class="user-item active">
                                            <div class="user-info">
                                                <img src="assets/images/user-avatar.jpg" alt="User" class="avatar">
                                                <div>
                                                    <h4>System Admin</h4>
                                                    <p>admin@example.com</p>
                                                    <span class="role-badge admin">Admin</span>
                                                </div>
                                            </div>
                                            <div class="user-actions">
                                                <button class="btn btn-icon"><i class="fas fa-pen"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <button class="btn btn-secondary">
                                        <i class="fas fa-plus"></i> Add User
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Library Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/idb@7/build/umd.js"></script>
    
    <!-- Utility Modules -->
    <script src="js/utils/ui.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/validation.js"></script>
    <script src="js/utils/error-handling.js"></script>
    
    <!-- Service Modules -->
    <script src="js/services/service-registry.js"></script>
    <script src="js/services/restaurant-service.js"></script>
    <script src="js/services/concept-service.js"></script>
    <script src="js/services/curator-service.js"></script>
    <script src="js/services/image-service.js"></script>
    <script src="js/services/location-service.js"></script>
    <script src="js/services/storage-service.js"></script>
    
    <!-- Feature Modules -->
    <script src="js/modules/sidebar.js"></script>
    <script src="js/modules/navigation.js"></script>
    <script src="js/modules/dashboard.js"></script>
    <script src="js/modules/restaurant.js"></script>
    <script src="js/modules/restaurant-edit.js"></script>
    <script src="js/modules/concept.js"></script>
    <script src="js/modules/gallery.js"></script>
    <script src="js/modules/import-export.js"></script>
    <script src="js/modules/search.js"></script>
    <script src="js/modules/form-controls.js"></script>
    
    <!-- Main Application -->
    <script src="js/main.js"></script>
    <script src="js/restaurant-ui.js"></script>
</body>
</html>
